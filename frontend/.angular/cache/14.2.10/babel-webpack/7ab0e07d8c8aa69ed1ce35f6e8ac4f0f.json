{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/Acer/OneDrive/Documentos/Angular/backend/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/reservas-admin.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\n\nfunction ReportesComponent_tr_12_td_19_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"td\", 8);\n    i0.ɵɵlistener(\"click\", function ReportesComponent_tr_12_td_19_Template_td_click_0_listener() {\n      i0.ɵɵrestoreView(_r6);\n      const r_r2 = i0.ɵɵnextContext().$implicit;\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.Down(r_r2.anexo));\n    });\n    i0.ɵɵelementStart(1, \"button\", 16);\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(2, \"svg\", 17);\n    i0.ɵɵelement(3, \"path\", 18);\n    i0.ɵɵelementEnd()()();\n  }\n}\n\nfunction ReportesComponent_tr_12_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelement(3, \"br\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelement(5, \"br\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelement(7, \"br\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelement(9, \"br\");\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"td\");\n    i0.ɵɵtext(12);\n    i0.ɵɵelement(13, \"br\");\n    i0.ɵɵtext(14);\n    i0.ɵɵelement(15, \"br\");\n    i0.ɵɵtext(16);\n    i0.ɵɵelement(17, \"br\");\n    i0.ɵɵtext(18);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(19, ReportesComponent_tr_12_td_19_Template, 4, 0, \"td\", 7);\n    i0.ɵɵelementStart(20, \"td\", 8);\n    i0.ɵɵlistener(\"click\", function ReportesComponent_tr_12_Template_td_click_20_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r8);\n      const r_r2 = restoredCtx.$implicit;\n      const ctx_r7 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r7.resmoda(r_r2._id));\n    });\n    i0.ɵɵelementStart(21, \"button\", 9);\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(22, \"svg\", 10);\n    i0.ɵɵelement(23, \"path\", 11)(24, \"path\", 12);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵnamespaceHTML();\n    i0.ɵɵelementStart(25, \"td\", 8);\n    i0.ɵɵlistener(\"click\", function ReportesComponent_tr_12_Template_td_click_25_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r8);\n      const r_r2 = restoredCtx.$implicit;\n      const ctx_r9 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r9.resmodr(r_r2._id));\n    });\n    i0.ɵɵelementStart(26, \"button\", 13);\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(27, \"svg\", 14);\n    i0.ɵɵelement(28, \"path\", 11)(29, \"path\", 15);\n    i0.ɵɵelementEnd()()()();\n  }\n\n  if (rf & 2) {\n    const r_r2 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"C\\u00E9dula:\", r_r2.user.ced, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" Nombre: \", r_r2.user.name, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" Email: \", r_r2.user.email, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" Telefono: \", r_r2.user.telefono, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" DEPENDENCIA: \", r_r2.user.dependencia[0].nombre_unidad, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" Fecha de inicio: \", r_r2.fini, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" Fecha de conclusion: \", r_r2.fend, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" Sitio de evento: \", r_r2.sitio, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" Estado: \", r_r2.state, \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", r_r2.anexo);\n  }\n}\n\nfunction ReportesComponent_div_18_th_50_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r14 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"th\", 8);\n    i0.ɵɵlistener(\"click\", function ReportesComponent_div_18_th_50_Template_th_click_0_listener() {\n      i0.ɵɵrestoreView(_r14);\n      const r_r10 = i0.ɵɵnextContext().$implicit;\n      const ctx_r12 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r12.Down(r_r10.anexo));\n    });\n    i0.ɵɵelementStart(1, \"button\", 23);\n    i0.ɵɵtext(2, \"Descargar\");\n    i0.ɵɵelementEnd()();\n  }\n}\n\nfunction ReportesComponent_div_18_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r16 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 19)(1, \"div\", 20)(2, \"label\", 21);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"div\", 22)(5, \"table\")(6, \"tr\")(7, \"th\");\n    i0.ɵɵtext(8, \" Usuario \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"th\");\n    i0.ɵɵtext(10, \" Reserva \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(11, \"tr\")(12, \"td\");\n    i0.ɵɵtext(13);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(14, \"div\")(15, \"label\", 21);\n    i0.ɵɵtext(16);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(17, \"div\")(18, \"label\", 21);\n    i0.ɵɵtext(19);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(20, \"div\")(21, \"label\", 21);\n    i0.ɵɵtext(22);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(23, \"div\")(24, \"label\", 21);\n    i0.ɵɵtext(25);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(26, \"label\", 21);\n    i0.ɵɵtext(27);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(28, \"hr\");\n    i0.ɵɵelementStart(29, \"div\")(30, \"label\", 21);\n    i0.ɵɵtext(31, \"RESERVA\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(32, \"div\")(33, \"label\", 21);\n    i0.ɵɵtext(34);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(35, \"div\")(36, \"label\", 21);\n    i0.ɵɵtext(37);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(38, \"div\")(39, \"label\", 21);\n    i0.ɵɵtext(40);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(41, \"div\")(42, \"label\", 21);\n    i0.ɵɵtext(43);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelement(44, \"hr\");\n    i0.ɵɵelementStart(45, \"div\")(46, \"label\", 21);\n    i0.ɵɵtext(47, \"ACCIONES\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(48, \"table\")(49, \"tr\");\n    i0.ɵɵtemplate(50, ReportesComponent_div_18_th_50_Template, 3, 0, \"th\", 7);\n    i0.ɵɵelementStart(51, \"th\", 8);\n    i0.ɵɵlistener(\"click\", function ReportesComponent_div_18_Template_th_click_51_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r16);\n      const r_r10 = restoredCtx.$implicit;\n      const ctx_r15 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r15.resmoda(r_r10._id));\n    });\n    i0.ɵɵelementStart(52, \"button\", 9);\n    i0.ɵɵtext(53, \"Aprobar\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(54, \"th\", 8);\n    i0.ɵɵlistener(\"click\", function ReportesComponent_div_18_Template_th_click_54_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r16);\n      const r_r10 = restoredCtx.$implicit;\n      const ctx_r17 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r17.resmodr(r_r10._id));\n    });\n    i0.ɵɵelementStart(55, \"button\", 13);\n    i0.ɵɵtext(56, \"Rechazar\");\n    i0.ɵɵelementEnd()()()()()();\n  }\n\n  if (rf & 2) {\n    const r_r10 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"Nombre de evento: \", r_r10.namevent, \"\");\n    i0.ɵɵadvance(10);\n    i0.ɵɵtextInterpolate1(\"C\\u00E9dula:\", r_r10.user.ced, \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"Cedula: \", r_r10.user.ced, \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"Nombre: \", r_r10.user.name, \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"Email: \", r_r10.user.email, \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"Telefono: \", r_r10.user.telefono, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"DEPENDENCIA: \", r_r10.user.dependencia[0].nombre_unidad, \"\");\n    i0.ɵɵadvance(7);\n    i0.ɵɵtextInterpolate1(\"Fecha de inicio: \", r_r10.fini, \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"Fecha de conclusion: \", r_r10.fend, \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"Sitio de evento: \", r_r10.sitio, \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"Estado: \", r_r10.state, \"\");\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"ngIf\", r_r10.anexo);\n  }\n}\n\nexport class ReportesComponent {\n  constructor(reseserver) {\n    this.reseserver = reseserver;\n    this.dependencia = {\n      _id: '',\n      id_unidad: '',\n      nombre_unidad: '',\n      id_tipo_unidad: '',\n      tipo_unidad: ''\n    };\n    this.dependencias = [this.dependencia];\n    this.reservas = [{\n      _id: '',\n      fini: '',\n      fend: '',\n      namevent: '',\n      user: {\n        name: '',\n        ced: '',\n        roles: [],\n        dependencia: [this.dependencia],\n        email: '',\n        telefono: ''\n      },\n      sitio: '',\n      state: '',\n      anexo: ''\n    }];\n  }\n\n  ngOnInit() {\n    this.reseserver.getReservas().subscribe(res => {\n      this.reservas = res;\n      console.log(this.reservas);\n    });\n  }\n\n  resmoda(id) {\n    this.reseserver.UpdateStateA(id).subscribe(res => {\n      this.reservas = res;\n    });\n  }\n\n  resmods(id) {\n    this.reseserver.UpdateStateS(id).subscribe(res => {\n      this.reservas = res;\n    });\n  }\n\n  resmodr(id) {\n    this.reseserver.UpdateStateR(id).subscribe(res => {\n      this.reservas = res;\n    });\n  }\n\n  Down(id) {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      yield (yield _this.reseserver.Download(id)).subscribe(res => {});\n    })();\n  }\n\n}\n\nReportesComponent.ɵfac = function ReportesComponent_Factory(t) {\n  return new (t || ReportesComponent)(i0.ɵɵdirectiveInject(i1.ReservasAdminService));\n};\n\nReportesComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ReportesComponent,\n  selectors: [[\"app-reportes\"]],\n  decls: 19,\n  vars: 2,\n  consts: [[1, \"container\"], [1, \"table\"], [4, \"ngFor\", \"ngForOf\"], [1, \"continer\"], [1, \"row\"], [1, \"col-md-6\", \"mx-auto\"], [\"class\", \"card\", \"ngDefaultControl\", \"\", 4, \"ngFor\", \"ngForOf\"], [3, \"click\", 4, \"ngIf\"], [3, \"click\"], [\"type\", \"reset\", 1, \"btn\", \"btn-success\"], [\"xmlns\", \"http://www.w3.org/2000/svg\", \"width\", \"16\", \"height\", \"16\", \"fill\", \"currentColor\", \"viewBox\", \"0 0 16 16\", 1, \"bi\", \"bi-check-circle\"], [\"d\", \"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z\"], [\"d\", \"M10.97 4.97a.235.235 0 0 0-.02.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-1.071-1.05z\"], [1, \"btn\", \"btn-danger\"], [\"xmlns\", \"http://www.w3.org/2000/svg\", \"width\", \"16\", \"height\", \"16\", \"fill\", \"currentColor\", \"viewBox\", \"0 0 16 16\", 1, \"bi\", \"bi-x-circle\"], [\"d\", \"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z\"], [1, \"btn\", \"btn-secondary\"], [\"xmlns\", \"http://www.w3.org/2000/svg\", \"width\", \"16\", \"height\", \"16\", \"fill\", \"currentColor\", \"viewBox\", \"0 0 16 16\", 1, \"bi\", \"bi-arrow-down-circle\"], [\"fill-rule\", \"evenodd\", \"d\", \"M1 8a7 7 0 1 0 14 0A7 7 0 0 0 1 8zm15 0A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM8.5 4.5a.5.5 0 0 0-1 0v5.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V4.5z\"], [\"ngDefaultControl\", \"\", 1, \"card\"], [1, \"card-header\"], [\"for\", \"\"], [1, \"card-body\"], [1, \"btn\", \"btn-primary\"]],\n  template: function ReportesComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"table\", 1)(2, \"tr\")(3, \"td\")(4, \"b\");\n      i0.ɵɵtext(5, \"Usuario\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(6, \"td\")(7, \"b\");\n      i0.ɵɵtext(8, \"Reserva\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(9, \"td\")(10, \"b\");\n      i0.ɵɵtext(11, \"Opciones\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵtemplate(12, ReportesComponent_tr_12_Template, 30, 10, \"tr\", 2);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(13, \"h1\");\n      i0.ɵɵtext(14, \"Mio\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(15, \"div\", 3)(16, \"div\", 4)(17, \"div\", 5);\n      i0.ɵɵtemplate(18, ReportesComponent_div_18_Template, 57, 12, \"div\", 6);\n      i0.ɵɵelementEnd()()();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(12);\n      i0.ɵɵproperty(\"ngForOf\", ctx.reservas);\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"ngForOf\", ctx.reservas);\n    }\n  },\n  dependencies: [i2.NgForOf, i2.NgIf, i3.DefaultValueAccessor],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJyZXBvcnRlcy5jb21wb25lbnQuY3NzIn0= */\"]\n});","map":{"version":3,"mappings":"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","names":["i0","ReportesComponent","constructor","reseserver","_id","id_unidad","nombre_unidad","id_tipo_unidad","tipo_unidad","dependencia","fini","fend","namevent","user","name","ced","roles","email","telefono","sitio","state","anexo","ngOnInit","getReservas","subscribe","res","reservas","console","log","resmoda","id","UpdateStateA","resmods","UpdateStateS","resmodr","UpdateStateR","Down","Download","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Users\\Acer\\OneDrive\\Documentos\\Angular\\backend\\frontend\\src\\app\\components\\reportes\\reportes.component.html","C:\\Users\\Acer\\OneDrive\\Documentos\\Angular\\backend\\frontend\\src\\app\\components\\reportes\\reportes.component.ts"],"sourcesContent":["<div class=\"container\">\n    <table class=\"table\">\n        <tr>\n            <td><b>Usuario</b></td>\n            <td><b>Reserva</b></td>\n            <td><b>Opciones</b></td>\n        </tr>\n        <tr *ngFor=\"let r of reservas\">\n            <td>Cédula:{{r.user.ced}}<br>\n                Nombre: {{r.user.name}}<br>\n                Email: {{r.user.email}}<br>\n                Telefono: {{r.user.telefono}}<br>\n                DEPENDENCIA: {{r.user.dependencia[0].nombre_unidad}}\n            </td>\n            <td>\n                Fecha de inicio: {{r.fini}}<br>\n                Fecha de conclusion: {{r.fend}}<br>\n                Sitio de evento: {{r.sitio}}<br>\n                Estado: {{r.state}}\n            </td>\n            <td *ngIf=\"r.anexo\" (click)=\"Down(r.anexo)\">\n                <button class=\"btn btn-secondary\" >\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-arrow-down-circle\" viewBox=\"0 0 16 16\">\n                        <path fill-rule=\"evenodd\" d=\"M1 8a7 7 0 1 0 14 0A7 7 0 0 0 1 8zm15 0A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM8.5 4.5a.5.5 0 0 0-1 0v5.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V4.5z\"/>\n                    </svg>\n                </button>\n            </td>\n            <td (click)=\"resmoda(r._id)\">\n                <button type=\"reset\" class=\"btn btn-success\">\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-check-circle\" viewBox=\"0 0 16 16\">\n                        <path d=\"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z\"/>\n                        <path d=\"M10.97 4.97a.235.235 0 0 0-.02.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-1.071-1.05z\"/>\n                    </svg>\n                </button>\n            </td>\n            <!-- <td (click)=\"resmods(r._id)\">\n                <button class=\"btn btn-secondary\">Default</button>\n            </td> -->\n            <td (click)=\"resmodr(r._id)\">\n                <button class=\"btn btn-danger\">\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-x-circle\" viewBox=\"0 0 16 16\">\n                        <path d=\"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z\"/>\n                        <path d=\"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z\"/>\n                    </svg>\n                </button>\n            </td>\n        </tr>\n    </table>\n\n</div>\n\n\n\n\n\n<h1>Mio</h1>\n\n<div class=\"continer\">\n    <div class=\"row\">\n        <div class=\"col-md-6 mx-auto\">\n            <div class=\"card\" *ngFor=\"let r of reservas\"  ngDefaultControl>\n                <div class=\"card-header\">\n                    <label for=\"\">Nombre de evento: {{r.namevent}}</label>\n                </div>\n                <div class=\"card-body\">\n                   <table>\n                    <tr>\n                        <th>\n                            Usuario\n                        </th>\n                        <th>\n                            Reserva\n                        </th>\n                    </tr>\n                    <tr>\n                        <td>Cédula:{{r.user.ced}}</td>\n                    </tr>\n                   </table>\n                    <div>\n                        <label for=\"\">Cedula: {{r.user.ced}}</label>\n                    </div>\n                    <div>\n                        <label for=\"\">Nombre: {{r.user.name}}</label>\n                    </div>\n                    <div>\n                        <label for=\"\">Email: {{r.user.email}}</label>\n                    </div>\n                    <div>\n                        <label for=\"\">Telefono: {{r.user.telefono}}</label>\n                    </div>\n                    <label for=\"\">DEPENDENCIA: {{r.user.dependencia[0].nombre_unidad}}</label>\n\n                    <hr>\n\n                    <div>\n                        <label for=\"\">RESERVA</label>\n                    </div>\n                    <div>\n                        <label for=\"\">Fecha de inicio: {{r.fini}}</label>\n                    </div>\n                    <div>\n                        <label for=\"\">Fecha de conclusion: {{r.fend}}</label>\n                    </div>\n                    <div>\n                        <label for=\"\">Sitio de evento: {{r.sitio}}</label>\n                    </div>\n                    <div>\n                        <label for=\"\">Estado: {{r.state}}</label>\n                    </div>\n\n                    <hr>\n\n                    <div>\n                        <label for=\"\">ACCIONES</label>\n                    </div>\n\n                    <table>\n                        <tr>\n                            <th *ngIf=\"r.anexo\" (click)=\"Down(r.anexo)\">\n                                <button class=\"btn btn-primary\" >Descargar</button>\n                            </th>\n                            <th (click)=\"resmoda(r._id)\">\n                                <button type=\"reset\" class=\"btn btn-success\">Aprobar</button>\n                            </th>\n                            <!-- <th (click)=\"resmods(r._id)\">\n                                <button class=\"btn btn-secondary\">Default</button>\n                            </th> -->\n                            <th (click)=\"resmodr(r._id)\">\n                                <button class=\"btn btn-danger\">Rechazar</button>\n                            </th>\n                        </tr>\n                    </table>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>","import { Component, OnInit } from '@angular/core';\nimport { TitleStrategy } from '@angular/router';\nimport { AuthService } from 'src/app/services/auth.service';\nimport { ReservasAdminService } from 'src/app/services/reservas-admin.service';\n\n@Component({\n  selector: 'app-reportes',\n  templateUrl: './reportes.component.html',\n  styleUrls: ['./reportes.component.css']\n})\nexport class ReportesComponent implements OnInit {\n\n  dependencia={\n    _id:'',\n    id_unidad:'',\n    nombre_unidad:'',\n    id_tipo_unidad:'',\n    tipo_unidad:''\n  }\n  dependencias=[this.dependencia]\n  reservas=[{_id:'',\n            fini:'', \n            fend:'', \n            namevent:'', \n            user:{name:'',\n                  ced:'',\n                  roles:[],\n                  dependencia:[this.dependencia],\n                  email:'',\n                  telefono:''}, \n            sitio:'', \n            state:'', \n            anexo:''}]\n  \n\n  constructor(private reseserver:ReservasAdminService) { }\n\n  ngOnInit(): void {\n    this.reseserver.getReservas()\n    .subscribe(\n      res=>{\n        this.reservas=res;\n        console.log(this.reservas);\n      }\n    )\n  }\n\n  resmoda(id:string){\n    this.reseserver.UpdateStateA(id)\n    .subscribe(\n      res=>{\n      this.reservas=res\n    })\n  }\n  resmods(id:string){\n    this.reseserver.UpdateStateS(id)\n    .subscribe(\n      res=>{\n      this.reservas=res\n    })\n  }\n  resmodr(id:string){\n    this.reseserver.UpdateStateR(id)\n    .subscribe(\n      res=>{\n      this.reservas=res\n    })\n  }\n\n  async Down(id:string){\n    await (await this.reseserver.Download(id)).subscribe(res=>{\n      \n    })\n  }\n}\n"]},"metadata":{},"sourceType":"module"}