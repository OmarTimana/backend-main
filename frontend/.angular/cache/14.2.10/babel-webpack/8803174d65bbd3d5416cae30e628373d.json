{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/Udenar/Desktop/backend-main/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"./user.service\";\nexport class AuthService {\n  constructor(http, router, ususer) {\n    this.http = http;\n    this.router = router;\n    this.ususer = ususer;\n    this.URL = 'http://localhost:3000/api';\n  }\n\n  signUp(user) {\n    return this.http.post(this.URL + '/auth/signup', user);\n  }\n\n  login(user) {\n    return this.http.post(this.URL + '/auth/signin', user);\n  }\n\n  loggedIn() {\n    return !!localStorage.getItem('token');\n  }\n\n  getToken() {\n    return localStorage.getItem('token');\n  }\n\n  registerUser(user) {\n    return this.http.post(this.URL + '/auth/registeruser', user);\n  }\n\n  createEspace(espacio) {\n    return this.http.post(this.URL + '/auth/crearespacio', espacio);\n  }\n\n  getuser(id) {// await this.http.get<any>(this.URL+'/auth/getUser/'+id).subscribe(async(wea)=>{\n    //   this.ususer.setuser(wea)\n    // });\n\n    return _asyncToGenerator(function* () {})();\n  }\n\n  logOut() {\n    localStorage.clear();\n    this.router.navigate(['/home']);\n  }\n\n  getDependencias() {\n    return this.http.get(this.URL + '/auth/dependencias');\n  }\n\n  getRoles() {\n    return this.http.get(this.URL + '/auth/roles');\n  }\n\n  getTiposEspFis() {\n    return this.http.get(this.URL + '/auth/tipoespfis');\n  }\n\n  getEspacios() {\n    return this.http.get(this.URL + '/auth/espacios');\n  }\n\n}\n\nAuthService.ɵfac = function AuthService_Factory(t) {\n  return new (t || AuthService)(i0.ɵɵinject(i1.HttpClient), i0.ɵɵinject(i2.Router), i0.ɵɵinject(i3.UserService));\n};\n\nAuthService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: AuthService,\n  factory: AuthService.ɵfac,\n  providedIn: 'root'\n});","map":{"version":3,"mappings":";;;;;AASA,OAAM,MAAOA,WAAP,CAAkB;EAItBC,YAAoBC,IAApB,EACUC,MADV,EAEUC,MAFV,EAE4B;IAFR;IACV;IACA;IAJF,WAAI,2BAAJ;EAKF;;EAENC,MAAM,CAACC,IAAD,EAAS;IACd,OAAO,KAAKJ,IAAL,CAAUK,IAAV,CAAoB,KAAKC,GAAL,GAAS,cAA7B,EAA4CF,IAA5C,CAAP;EACA;;EACDG,KAAK,CAACH,IAAD,EAAS;IACb,OAAO,KAAKJ,IAAL,CAAUK,IAAV,CAAoB,KAAKC,GAAL,GAAS,cAA7B,EAA4CF,IAA5C,CAAP;EACA;;EACDI,QAAQ;IACN,OAAO,CAAC,CAACC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAT;EACD;;EACDC,QAAQ;IACN,OAAOF,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAP;EACD;;EACDE,YAAY,CAACR,IAAD,EAAS;IACnB,OAAO,KAAKJ,IAAL,CAAUK,IAAV,CAAoB,KAAKC,GAAL,GAAS,oBAA7B,EAAkDF,IAAlD,CAAP;EACD;;EACDS,YAAY,CAACC,OAAD,EAAY;IACtB,OAAO,KAAKd,IAAL,CAAUK,IAAV,CAAoB,KAAKC,GAAL,GAAS,oBAA7B,EAAkDQ,OAAlD,CAAP;EACD;;EAEKC,OAAO,CAACC,EAAD,EAAO,CAClB;IACA;IACA;;IAHkB;EAInB;;EAEDC,MAAM;IACJR,YAAY,CAACS,KAAb;IACA,KAAKjB,MAAL,CAAYkB,QAAZ,CAAqB,CAAC,OAAD,CAArB;EACD;;EACDC,eAAe;IACb,OAAO,KAAKpB,IAAL,CAAUqB,GAAV,CAAc,KAAKf,GAAL,GAAU,oBAAxB,CAAP;EACD;;EACDgB,QAAQ;IACN,OAAO,KAAKtB,IAAL,CAAUqB,GAAV,CAAc,KAAKf,GAAL,GAAU,aAAxB,CAAP;EACD;;EACDiB,cAAc;IACZ,OAAO,KAAKvB,IAAL,CAAUqB,GAAV,CAAc,KAAKf,GAAL,GAAS,kBAAvB,CAAP;EACD;;EACDkB,WAAW;IACT,OAAO,KAAKxB,IAAL,CAAUqB,GAAV,CAAc,KAAKf,GAAL,GAAS,gBAAvB,CAAP;EACD;;AAjDqB;;;mBAAXR,aAAW2B;AAAA;;;SAAX3B;EAAW4B,SAAX5B,WAAW;EAAA6B,YAFV","names":["AuthService","constructor","http","router","ususer","signUp","user","post","URL","login","loggedIn","localStorage","getItem","getToken","registerUser","createEspace","espacio","getuser","id","logOut","clear","navigate","getDependencias","get","getRoles","getTiposEspFis","getEspacios","i0","factory","providedIn"],"sourceRoot":"","sources":["C:\\Users\\Udenar\\Desktop\\backend-main\\frontend\\src\\app\\services\\auth.service.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport {HttpClient} from '@angular/common/http'\nimport { Router } from '@angular/router';\nimport { UserService } from './user.service';\n\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AuthService {\n\n  private URL='http://localhost:3000/api'\n\n  constructor(private http:HttpClient,\n    private router:Router,\n    private ususer:UserService\n    ) {}\n\n  signUp(user:any){\n   return this.http.post<any>(this.URL+'/auth/signup',user);\n  }\n  login(user:any){\n   return this.http.post<any>(this.URL+'/auth/signin',user);\n  }\n  loggedIn():Boolean{\n    return !!localStorage.getItem('token')\n  }\n  getToken(){\n    return localStorage.getItem('token')\n  }\n  registerUser(user:any){\n    return this.http.post<any>(this.URL+'/auth/registeruser',user);\n  }\n  createEspace(espacio:any){\n    return this.http.post<any>(this.URL+'/auth/crearespacio',espacio);\n  }\n\n  async getuser(id:any){\n    // await this.http.get<any>(this.URL+'/auth/getUser/'+id).subscribe(async(wea)=>{\n    //   this.ususer.setuser(wea)\n    // });\n  }\n \n  logOut(){\n    localStorage.clear()\n    this.router.navigate(['/home']);\n  }\n  getDependencias(){\n    return this.http.get(this.URL +'/auth/dependencias');\n  }\n  getRoles(){\n    return this.http.get(this.URL +'/auth/roles');\n  }\n  getTiposEspFis(){\n    return this.http.get(this.URL+'/auth/tipoespfis');\n  }\n  getEspacios(){\n    return this.http.get(this.URL+'/auth/espacios');\n  }\n}\n"]},"metadata":{},"sourceType":"module"}