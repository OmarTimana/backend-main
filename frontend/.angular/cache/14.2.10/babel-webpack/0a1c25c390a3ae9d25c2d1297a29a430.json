{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/Acer/OneDrive/Documentos/Angular/backend/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"./intermedium.service\";\nexport class AuthService {\n  constructor(http, router, int) {\n    this.http = http;\n    this.router = router;\n    this.int = int;\n    this.URL = 'http://localhost:3000/api';\n    this.wea = undefined;\n  }\n\n  signUp(user) {\n    return this.http.post(this.URL + '/auth/signup', user);\n  }\n\n  login(user) {\n    return this.http.post(this.URL + '/auth/signin', user);\n  }\n\n  loggedIn() {\n    return !!localStorage.getItem('token');\n  }\n\n  getToken() {\n    return localStorage.getItem('token');\n  }\n\n  registerUser(user) {\n    return this.http.post(this.URL + '/auth/registeruser', user);\n  }\n\n  createEspace(espacio) {\n    return this.http.post(this.URL + '/auth/crearespacio', espacio);\n  }\n\n  getuser(id) {\n    var _this = this;\n\n    this.http.get(this.URL + '/auth/getUser/' + id).subscribe( /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator(function* (wea) {\n        _this.wea = wea;\n        console.log(wea);\n        console.log(_this.wea);\n\n        _this.int.setusu(wea);\n      });\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }());\n  }\n\n  logOut() {\n    localStorage.clear();\n    this.router.navigate(['/home']);\n  }\n\n  getDependencias() {\n    return this.http.get(this.URL + '/auth/dependencias');\n  }\n\n  getRoles() {\n    return this.http.get(this.URL + '/auth/roles');\n  }\n\n  getTiposEspFis() {\n    return this.http.get(this.URL + '/auth/tipoespfis');\n  }\n\n  getEspacios() {\n    return this.http.get(this.URL + '/auth/espacios');\n  }\n\n}\n\nAuthService.ɵfac = function AuthService_Factory(t) {\n  return new (t || AuthService)(i0.ɵɵinject(i1.HttpClient), i0.ɵɵinject(i2.Router), i0.ɵɵinject(i3.IntermediumService));\n};\n\nAuthService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: AuthService,\n  factory: AuthService.ɵfac,\n  providedIn: 'root'\n});","map":{"version":3,"mappings":";;;;;AAUA,OAAM,MAAOA,WAAP,CAAkB;EAKtBC,YAAoBC,IAApB,EACUC,MADV,EAEUC,GAFV,EAEgC;IAFZ;IACV;IACA;IALF,WAAI,2BAAJ;IACD,WAAIC,SAAJ;EAKD;;EAENC,MAAM,CAACC,IAAD,EAAS;IACd,OAAO,KAAKL,IAAL,CAAUM,IAAV,CAAoB,KAAKC,GAAL,GAAS,cAA7B,EAA4CF,IAA5C,CAAP;EACA;;EACDG,KAAK,CAACH,IAAD,EAAS;IACb,OAAO,KAAKL,IAAL,CAAUM,IAAV,CAAoB,KAAKC,GAAL,GAAS,cAA7B,EAA4CF,IAA5C,CAAP;EACA;;EACDI,QAAQ;IACN,OAAO,CAAC,CAACC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAT;EACD;;EACDC,QAAQ;IACN,OAAOF,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAP;EACD;;EACDE,YAAY,CAACR,IAAD,EAAS;IACnB,OAAO,KAAKL,IAAL,CAAUM,IAAV,CAAoB,KAAKC,GAAL,GAAS,oBAA7B,EAAkDF,IAAlD,CAAP;EACD;;EACDS,YAAY,CAACC,OAAD,EAAY;IACtB,OAAO,KAAKf,IAAL,CAAUM,IAAV,CAAoB,KAAKC,GAAL,GAAS,oBAA7B,EAAkDQ,OAAlD,CAAP;EACD;;EAEDC,OAAO,CAACC,EAAD,EAAO;IAAA;;IACZ,KAAKjB,IAAL,CAAUkB,GAAV,CAAmB,KAAKX,GAAL,GAAS,gBAAT,GAA0BU,EAA7C,EAAiDE,SAAjD;MAAA,6BAA2D,WAAMC,GAAN,EAAY;QACrE,KAAI,CAACA,GAAL,GAASA,GAAT;QACAC,OAAO,CAACC,GAAR,CAAYF,GAAZ;QACAC,OAAO,CAACC,GAAR,CAAY,KAAI,CAACF,GAAjB;;QACA,KAAI,CAAClB,GAAL,CAASqB,MAAT,CAAgBH,GAAhB;MACD,CALD;;MAAA;QAAA;MAAA;IAAA;EAMD;;EAEDI,MAAM;IACJd,YAAY,CAACe,KAAb;IACA,KAAKxB,MAAL,CAAYyB,QAAZ,CAAqB,CAAC,OAAD,CAArB;EAED;;EACDC,eAAe;IACb,OAAO,KAAK3B,IAAL,CAAUkB,GAAV,CAAc,KAAKX,GAAL,GAAU,oBAAxB,CAAP;EACD;;EACDqB,QAAQ;IACN,OAAO,KAAK5B,IAAL,CAAUkB,GAAV,CAAc,KAAKX,GAAL,GAAU,aAAxB,CAAP;EACD;;EACDsB,cAAc;IACZ,OAAO,KAAK7B,IAAL,CAAUkB,GAAV,CAAc,KAAKX,GAAL,GAAS,kBAAvB,CAAP;EACD;;EACDuB,WAAW;IACT,OAAO,KAAK9B,IAAL,CAAUkB,GAAV,CAAc,KAAKX,GAAL,GAAS,gBAAvB,CAAP;EACD;;AAtDqB;;;mBAAXT,aAAWiC;AAAA;;;SAAXjC;EAAWkC,SAAXlC,WAAW;EAAAmC,YAFV","names":["AuthService","constructor","http","router","int","undefined","signUp","user","post","URL","login","loggedIn","localStorage","getItem","getToken","registerUser","createEspace","espacio","getuser","id","get","subscribe","wea","console","log","setusu","logOut","clear","navigate","getDependencias","getRoles","getTiposEspFis","getEspacios","i0","factory","providedIn"],"sourceRoot":"","sources":["C:\\Users\\Acer\\OneDrive\\Documentos\\Angular\\backend\\frontend\\src\\app\\services\\auth.service.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport {HttpClient} from '@angular/common/http'\nimport { Router } from '@angular/router';\nimport { IntermediumService } from './intermedium.service';\n\n\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AuthService {\n\n  private URL='http://localhost:3000/api'\n  public wea=undefined\n\n  constructor(private http:HttpClient,\n    private router:Router,\n    private int:IntermediumService\n    ) {}\n\n  signUp(user:any){\n   return this.http.post<any>(this.URL+'/auth/signup',user);\n  }\n  login(user:any){\n   return this.http.post<any>(this.URL+'/auth/signin',user);\n  }\n  loggedIn():Boolean{\n    return !!localStorage.getItem('token')\n  }\n  getToken(){\n    return localStorage.getItem('token')\n  }\n  registerUser(user:any){\n    return this.http.post<any>(this.URL+'/auth/registeruser',user);\n  }\n  createEspace(espacio:any){\n    return this.http.post<any>(this.URL+'/auth/crearespacio',espacio);\n  }\n\n  getuser(id:any){\n    this.http.get<any>(this.URL+'/auth/getUser/'+id).subscribe(async(wea)=>{\n      this.wea=wea\n      console.log(wea)\n      console.log(this.wea);\n      this.int.setusu(wea)\n    });\n  }\n \n  logOut(){\n    localStorage.clear()\n    this.router.navigate(['/home']);\n  \n  }\n  getDependencias(){\n    return this.http.get(this.URL +'/auth/dependencias');\n  }\n  getRoles(){\n    return this.http.get(this.URL +'/auth/roles');\n  }\n  getTiposEspFis(){\n    return this.http.get(this.URL+'/auth/tipoespfis');\n  }\n  getEspacios(){\n    return this.http.get(this.URL+'/auth/espacios');\n  }\n\n}\n"]},"metadata":{},"sourceType":"module"}