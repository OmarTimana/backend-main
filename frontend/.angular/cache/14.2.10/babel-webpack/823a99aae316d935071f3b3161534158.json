{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/Acer/OneDrive/Documentos/Angular/backend/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/reservas-admin.service\";\nimport * as i2 from \"src/app/services/auth.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\n\nfunction ReportesComponent_option_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 12);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const d_r3 = ctx.$implicit;\n    i0.ɵɵpropertyInterpolate(\"value\", d_r3.id_unidad);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", d_r3.nombre_unidad, \" \");\n  }\n}\n\nfunction ReportesComponent_tr_19_td_19_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"td\", 14);\n    i0.ɵɵlistener(\"click\", function ReportesComponent_tr_19_td_19_Template_td_click_0_listener() {\n      i0.ɵɵrestoreView(_r8);\n      const r_r4 = i0.ɵɵnextContext().$implicit;\n      const ctx_r6 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r6.Down(r_r4.anexo));\n    });\n    i0.ɵɵelementStart(1, \"button\", 22);\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(2, \"svg\", 23);\n    i0.ɵɵelement(3, \"path\", 24);\n    i0.ɵɵelementEnd()()();\n  }\n}\n\nfunction ReportesComponent_tr_19_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r10 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelement(3, \"br\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelement(5, \"br\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelement(7, \"br\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelement(9, \"br\");\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"td\");\n    i0.ɵɵtext(12);\n    i0.ɵɵelement(13, \"br\");\n    i0.ɵɵtext(14);\n    i0.ɵɵelement(15, \"br\");\n    i0.ɵɵtext(16);\n    i0.ɵɵelement(17, \"br\");\n    i0.ɵɵtext(18);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(19, ReportesComponent_tr_19_td_19_Template, 4, 0, \"td\", 13);\n    i0.ɵɵelementStart(20, \"td\", 14);\n    i0.ɵɵlistener(\"click\", function ReportesComponent_tr_19_Template_td_click_20_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r10);\n      const r_r4 = restoredCtx.$implicit;\n      const ctx_r9 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r9.resmoda(r_r4._id));\n    });\n    i0.ɵɵelementStart(21, \"button\", 15);\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(22, \"svg\", 16);\n    i0.ɵɵelement(23, \"path\", 17)(24, \"path\", 18);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵnamespaceHTML();\n    i0.ɵɵelementStart(25, \"td\", 14);\n    i0.ɵɵlistener(\"click\", function ReportesComponent_tr_19_Template_td_click_25_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r10);\n      const r_r4 = restoredCtx.$implicit;\n      const ctx_r11 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r11.resmodr(r_r4._id));\n    });\n    i0.ɵɵelementStart(26, \"button\", 19);\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(27, \"svg\", 20);\n    i0.ɵɵelement(28, \"path\", 17)(29, \"path\", 21);\n    i0.ɵɵelementEnd()()()();\n  }\n\n  if (rf & 2) {\n    const r_r4 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"C\\u00E9dula:\", r_r4.user.ced, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" Nombre: \", r_r4.user.name, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" Email: \", r_r4.user.email, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" Telefono: \", r_r4.user.telefono, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" DEPENDENCIA: \", r_r4.user.dependencia[0].nombre_unidad, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" Fecha de inicio: \", r_r4.fini, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" Fecha de conclusion: \", r_r4.fend, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" Sitio de evento: \", r_r4.sitio, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" Estado: \", r_r4.state, \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", r_r4.anexo);\n  }\n}\n\nfunction ReportesComponent_div_25_th_50_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r16 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"th\", 14);\n    i0.ɵɵlistener(\"click\", function ReportesComponent_div_25_th_50_Template_th_click_0_listener() {\n      i0.ɵɵrestoreView(_r16);\n      const r_r12 = i0.ɵɵnextContext().$implicit;\n      const ctx_r14 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r14.Down(r_r12.anexo));\n    });\n    i0.ɵɵelementStart(1, \"button\", 30);\n    i0.ɵɵtext(2, \"Descargar\");\n    i0.ɵɵelementEnd()();\n  }\n}\n\nfunction ReportesComponent_div_25_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r18 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 25)(1, \"div\", 26)(2, \"label\", 27);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"div\", 28)(5, \"table\")(6, \"tr\")(7, \"th\");\n    i0.ɵɵtext(8, \" Usuario \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"th\");\n    i0.ɵɵtext(10, \" Reserva \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(11, \"tr\")(12, \"td\");\n    i0.ɵɵtext(13);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(14, \"div\")(15, \"label\", 27);\n    i0.ɵɵtext(16);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(17, \"div\")(18, \"label\", 27);\n    i0.ɵɵtext(19);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(20, \"div\")(21, \"label\", 27);\n    i0.ɵɵtext(22);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(23, \"div\")(24, \"label\", 27);\n    i0.ɵɵtext(25);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(26, \"label\", 27);\n    i0.ɵɵtext(27);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(28, \"hr\");\n    i0.ɵɵelementStart(29, \"div\")(30, \"label\", 27);\n    i0.ɵɵtext(31, \"RESERVA\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(32, \"div\")(33, \"label\", 27);\n    i0.ɵɵtext(34);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(35, \"div\")(36, \"label\", 27);\n    i0.ɵɵtext(37);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(38, \"div\")(39, \"label\", 27);\n    i0.ɵɵtext(40);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(41, \"div\")(42, \"label\", 27);\n    i0.ɵɵtext(43);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelement(44, \"hr\");\n    i0.ɵɵelementStart(45, \"div\")(46, \"label\", 27);\n    i0.ɵɵtext(47, \"ACCIONES\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(48, \"table\")(49, \"tr\");\n    i0.ɵɵtemplate(50, ReportesComponent_div_25_th_50_Template, 3, 0, \"th\", 13);\n    i0.ɵɵelementStart(51, \"th\", 14);\n    i0.ɵɵlistener(\"click\", function ReportesComponent_div_25_Template_th_click_51_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r18);\n      const r_r12 = restoredCtx.$implicit;\n      const ctx_r17 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r17.resmoda(r_r12._id));\n    });\n    i0.ɵɵelementStart(52, \"button\", 29);\n    i0.ɵɵtext(53, \"Aprobar\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(54, \"th\", 14);\n    i0.ɵɵlistener(\"click\", function ReportesComponent_div_25_Template_th_click_54_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r18);\n      const r_r12 = restoredCtx.$implicit;\n      const ctx_r19 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r19.resmodr(r_r12._id));\n    });\n    i0.ɵɵelementStart(55, \"button\", 19);\n    i0.ɵɵtext(56, \"Rechazar\");\n    i0.ɵɵelementEnd()()()()()();\n  }\n\n  if (rf & 2) {\n    const r_r12 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"Nombre de evento: \", r_r12.namevent, \"\");\n    i0.ɵɵadvance(10);\n    i0.ɵɵtextInterpolate1(\"C\\u00E9dula:\", r_r12.user.ced, \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"Cedula: \", r_r12.user.ced, \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"Nombre: \", r_r12.user.name, \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"Email: \", r_r12.user.email, \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"Telefono: \", r_r12.user.telefono, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"DEPENDENCIA: \", r_r12.user.dependencia[0].nombre_unidad, \"\");\n    i0.ɵɵadvance(7);\n    i0.ɵɵtextInterpolate1(\"Fecha de inicio: \", r_r12.fini, \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"Fecha de conclusion: \", r_r12.fend, \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"Sitio de evento: \", r_r12.sitio, \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"Estado: \", r_r12.state, \"\");\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"ngIf\", r_r12.anexo);\n  }\n}\n\nexport class ReportesComponent {\n  constructor(reseserver, authService) {\n    this.reseserver = reseserver;\n    this.authService = authService;\n    this.dependencia = {\n      _id: '',\n      id_unidad: '',\n      nombre_unidad: '',\n      id_tipo_unidad: '',\n      tipo_unidad: ''\n    };\n    this.dependencias = [this.dependencia];\n    this.reservas = [{\n      _id: '',\n      fini: '',\n      fend: '',\n      namevent: '',\n      user: {\n        name: '',\n        ced: '',\n        roles: [],\n        dependencia: [this.dependencia],\n        email: '',\n        telefono: ''\n      },\n      sitio: '',\n      state: '',\n      anexo: '',\n      createdAt: new Date()\n    }];\n  }\n\n  ngOnInit() {\n    this.reseserver.getReservas().subscribe(res => {\n      this.reservas = res;\n      this.reservas.sort((a, b) => {\n        return Date.parse(a.createdAt.valueOf().toString()) - Date.parse(b.createdAt.valueOf().toString());\n      });\n      console.log(this.reservas);\n    });\n    this.authService.getDependencias().subscribe(res => {\n      for (let i of Object.values(res)) {\n        this.dependencias.push(i);\n      }\n\n      console.log(this.dependencias);\n    }, err => console.log(err));\n  }\n\n  resmoda(id) {\n    this.reseserver.UpdateStateA(id).subscribe(res => {\n      this.reservas = res;\n      this.reservas.sort((a, b) => {\n        return Date.parse(a.createdAt.valueOf().toString()) - Date.parse(b.createdAt.valueOf().toString());\n      });\n      console.log(this.reservas);\n    });\n  }\n\n  resmods(id) {\n    this.reseserver.UpdateStateS(id).subscribe(res => {\n      this.reservas = res;\n      this.reservas.sort((a, b) => {\n        return Date.parse(a.createdAt.valueOf().toString()) - Date.parse(b.createdAt.valueOf().toString());\n      });\n      console.log(this.reservas);\n    });\n  }\n\n  resmodr(id) {\n    this.reseserver.UpdateStateR(id).subscribe(res => {\n      this.reservas = res;\n      this.reservas.sort((a, b) => {\n        return Date.parse(a.createdAt.valueOf().toString()) - Date.parse(b.createdAt.valueOf().toString());\n      });\n      console.log(this.reservas);\n    });\n  }\n\n  Down(id) {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      yield (yield _this.reseserver.Download(id)).subscribe();\n    })();\n  }\n\n  onFacultad($e) {}\n\n}\n\nReportesComponent.ɵfac = function ReportesComponent_Factory(t) {\n  return new (t || ReportesComponent)(i0.ɵɵdirectiveInject(i1.ReservasAdminService), i0.ɵɵdirectiveInject(i2.AuthService));\n};\n\nReportesComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ReportesComponent,\n  selectors: [[\"app-reportes\"]],\n  decls: 26,\n  vars: 3,\n  consts: [[1, \"form-group\"], [1, \"col-sm-12\"], [\"list\", \"menace\", \"name\", \"menace\", 1, \"form-control\"], [\"id\", \"menace\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [1, \"container\"], [1, \"table\"], [4, \"ngFor\", \"ngForOf\"], [1, \"continer\"], [1, \"row\"], [1, \"col-md-6\", \"mx-auto\"], [\"class\", \"card\", \"ngDefaultControl\", \"\", 4, \"ngFor\", \"ngForOf\"], [3, \"value\"], [3, \"click\", 4, \"ngIf\"], [3, \"click\"], [1, \"btn\", \"btn-success\"], [\"xmlns\", \"http://www.w3.org/2000/svg\", \"width\", \"16\", \"height\", \"16\", \"fill\", \"currentColor\", \"viewBox\", \"0 0 16 16\", 1, \"bi\", \"bi-check-circle\"], [\"d\", \"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z\"], [\"d\", \"M10.97 4.97a.235.235 0 0 0-.02.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-1.071-1.05z\"], [1, \"btn\", \"btn-danger\"], [\"xmlns\", \"http://www.w3.org/2000/svg\", \"width\", \"16\", \"height\", \"16\", \"fill\", \"currentColor\", \"viewBox\", \"0 0 16 16\", 1, \"bi\", \"bi-x-circle\"], [\"d\", \"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z\"], [1, \"btn\", \"btn-secondary\"], [\"xmlns\", \"http://www.w3.org/2000/svg\", \"width\", \"16\", \"height\", \"16\", \"fill\", \"currentColor\", \"viewBox\", \"0 0 16 16\", 1, \"bi\", \"bi-arrow-down-circle\"], [\"fill-rule\", \"evenodd\", \"d\", \"M1 8a7 7 0 1 0 14 0A7 7 0 0 0 1 8zm15 0A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM8.5 4.5a.5.5 0 0 0-1 0v5.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V4.5z\"], [\"ngDefaultControl\", \"\", 1, \"card\"], [1, \"card-header\"], [\"for\", \"\"], [1, \"card-body\"], [\"type\", \"reset\", 1, \"btn\", \"btn-success\"], [1, \"btn\", \"btn-primary\"]],\n  template: function ReportesComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"label\", 1);\n      i0.ɵɵtext(2, \"Dependencias\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(3, \"div\", 1);\n      i0.ɵɵelement(4, \"input\", 2);\n      i0.ɵɵelementStart(5, \"datalist\", 3);\n      i0.ɵɵtemplate(6, ReportesComponent_option_6_Template, 2, 2, \"option\", 4);\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(7, \"div\", 5)(8, \"table\", 6)(9, \"tr\")(10, \"td\")(11, \"b\");\n      i0.ɵɵtext(12, \"Usuario\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(13, \"td\")(14, \"b\");\n      i0.ɵɵtext(15, \"Reserva\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(16, \"td\")(17, \"b\");\n      i0.ɵɵtext(18, \"Opciones\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵtemplate(19, ReportesComponent_tr_19_Template, 30, 10, \"tr\", 7);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(20, \"h1\");\n      i0.ɵɵtext(21, \"Mio\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(22, \"div\", 8)(23, \"div\", 9)(24, \"div\", 10);\n      i0.ɵɵtemplate(25, ReportesComponent_div_25_Template, 57, 12, \"div\", 11);\n      i0.ɵɵelementEnd()()();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"ngForOf\", ctx.dependencias);\n      i0.ɵɵadvance(13);\n      i0.ɵɵproperty(\"ngForOf\", ctx.reservas);\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"ngForOf\", ctx.reservas);\n    }\n  },\n  dependencies: [i3.NgForOf, i3.NgIf, i4.NgSelectOption, i4.ɵNgSelectMultipleOption, i4.DefaultValueAccessor],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJyZXBvcnRlcy5jb21wb25lbnQuY3NzIn0= */\"]\n});","map":{"version":3,"mappings":"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","names":["i0","ReportesComponent","constructor","reseserver","authService","_id","id_unidad","nombre_unidad","id_tipo_unidad","tipo_unidad","dependencia","fini","fend","namevent","user","name","ced","roles","email","telefono","sitio","state","anexo","createdAt","Date","ngOnInit","getReservas","subscribe","res","reservas","sort","a","b","parse","valueOf","toString","console","log","getDependencias","i","Object","values","dependencias","push","err","resmoda","id","UpdateStateA","resmods","UpdateStateS","resmodr","UpdateStateR","Down","Download","onFacultad","$e","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Users\\Acer\\OneDrive\\Documentos\\Angular\\backend\\frontend\\src\\app\\components\\reportes\\reportes.component.html","C:\\Users\\Acer\\OneDrive\\Documentos\\Angular\\backend\\frontend\\src\\app\\components\\reportes\\reportes.component.ts"],"sourcesContent":["<div class=\"form-group\">\n    <label class=\"col-sm-12\">Dependencias</label>\n    <div class=\"col-sm-12\">\n        <input list=\"menace\" name=\"menace\" class=\"form-control\">\n        <datalist id=\"menace\">\n            <option *ngFor=\"let d of dependencias\" value=\"{{d.id_unidad}}\">\n                {{d.nombre_unidad}}\n            </option>\n        </datalist>\n    </div>\n</div>\n\n<div class=\"container\">\n    <table class=\"table\">\n        <tr>\n            <td><b>Usuario</b></td>\n            <td><b>Reserva</b></td>\n            <td><b>Opciones</b></td>\n        </tr>\n        <tr *ngFor=\"let r of reservas\">\n            <td>Cédula:{{r.user.ced}}<br>\n                Nombre: {{r.user.name}}<br>\n                Email: {{r.user.email}}<br>\n                Telefono: {{r.user.telefono}}<br>\n                DEPENDENCIA: {{r.user.dependencia[0].nombre_unidad}}\n            </td>\n            <td>\n                Fecha de inicio: {{r.fini}}<br>\n                Fecha de conclusion: {{r.fend}}<br>\n                Sitio de evento: {{r.sitio}}<br>\n                Estado: {{r.state}}\n            </td>\n            <!-- <td (click)=\"resmods(r._id)\">\n                <button class=\"btn btn-secondary\">Default</button>\n            </td> -->\n            <td *ngIf=\"r.anexo\" (click)=\"Down(r.anexo)\">\n                <button class=\"btn btn-secondary\" >\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-arrow-down-circle\" viewBox=\"0 0 16 16\">\n                        <path fill-rule=\"evenodd\" d=\"M1 8a7 7 0 1 0 14 0A7 7 0 0 0 1 8zm15 0A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM8.5 4.5a.5.5 0 0 0-1 0v5.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V4.5z\"/>\n                    </svg>\n                </button>\n            </td>\n            <td (click)=\"resmoda(r._id)\">\n                <button class=\"btn btn-success\">\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-check-circle\" viewBox=\"0 0 16 16\">\n                        <path d=\"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z\"/>\n                        <path d=\"M10.97 4.97a.235.235 0 0 0-.02.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-1.071-1.05z\"/>\n                    </svg>\n                </button>\n            </td>\n            <td (click)=\"resmodr(r._id)\">\n                <button class=\"btn btn-danger\">\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-x-circle\" viewBox=\"0 0 16 16\">\n                        <path d=\"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z\"/>\n                        <path d=\"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z\"/>\n                    </svg>\n                </button>\n            </td>\n        </tr>\n    </table>\n\n</div>\n\n\n\n\n\n<h1>Mio</h1>\n\n<div class=\"continer\">\n    <div class=\"row\">\n        <div class=\"col-md-6 mx-auto\">\n            <div class=\"card\" *ngFor=\"let r of reservas\"  ngDefaultControl>\n                <div class=\"card-header\">\n                    <label for=\"\">Nombre de evento: {{r.namevent}}</label>\n                </div>\n                <div class=\"card-body\">\n                   <table>\n                    <tr>\n                        <th>\n                            Usuario\n                        </th>\n                        <th>\n                            Reserva\n                        </th>\n                    </tr>\n                    <tr>\n                        <td>Cédula:{{r.user.ced}}</td>\n                    </tr>\n                   </table>\n                    <div>\n                        <label for=\"\">Cedula: {{r.user.ced}}</label>\n                    </div>\n                    <div>\n                        <label for=\"\">Nombre: {{r.user.name}}</label>\n                    </div>\n                    <div>\n                        <label for=\"\">Email: {{r.user.email}}</label>\n                    </div>\n                    <div>\n                        <label for=\"\">Telefono: {{r.user.telefono}}</label>\n                    </div>\n                    <label for=\"\">DEPENDENCIA: {{r.user.dependencia[0].nombre_unidad}}</label>\n\n                    <hr>\n\n                    <div>\n                        <label for=\"\">RESERVA</label>\n                    </div>\n                    <div>\n                        <label for=\"\">Fecha de inicio: {{r.fini}}</label>\n                    </div>\n                    <div>\n                        <label for=\"\">Fecha de conclusion: {{r.fend}}</label>\n                    </div>\n                    <div>\n                        <label for=\"\">Sitio de evento: {{r.sitio}}</label>\n                    </div>\n                    <div>\n                        <label for=\"\">Estado: {{r.state}}</label>\n                    </div>\n\n                    <hr>\n\n                    <div>\n                        <label for=\"\">ACCIONES</label>\n                    </div>\n\n                    <table>\n                        <tr>\n                            <!-- <th (click)=\"resmods(r._id)\">\n                                <button class=\"btn btn-secondary\">Default</button>\n                            </th> -->\n                            <th *ngIf=\"r.anexo\" (click)=\"Down(r.anexo)\">\n                                <button class=\"btn btn-primary\" >Descargar</button>\n                            </th>\n                            <th (click)=\"resmoda(r._id)\">\n                                <button type=\"reset\" class=\"btn btn-success\">Aprobar</button>\n                            </th>\n                            <th (click)=\"resmodr(r._id)\">\n                                <button class=\"btn btn-danger\">Rechazar</button>\n                            </th>\n                        </tr>\n                    </table>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>","import { Component, OnInit } from '@angular/core';\nimport { TitleStrategy } from '@angular/router';\nimport { AuthService } from 'src/app/services/auth.service';\nimport { ReservasAdminService } from 'src/app/services/reservas-admin.service';\n\n@Component({\n  selector: 'app-reportes',\n  templateUrl: './reportes.component.html',\n  styleUrls: ['./reportes.component.css']\n})\nexport class ReportesComponent implements OnInit {\n\n  dependencia={\n    _id:'',\n    id_unidad:'',\n    nombre_unidad:'',\n    id_tipo_unidad:'',\n    tipo_unidad:''\n  }\n  dependencias=[this.dependencia]\n  reservas=[{_id:'',\n            fini:'', \n            fend:'', \n            namevent:'', \n            user:{name:'',\n                  ced:'',\n                  roles:[],\n                  dependencia:[this.dependencia],\n                  email:'',\n                  telefono:''}, \n            sitio:'', \n            state:'', \n            anexo:'',\n            createdAt:new Date}]\n  \n  constructor(private reseserver:ReservasAdminService,\n              private authService:AuthService) { }\n\n  ngOnInit(): void {\n    this.reseserver.getReservas()\n    .subscribe(\n      res=>{\n        this.reservas=res;\n        this.reservas.sort((a,b)=>{\n          return Date.parse(a.createdAt.valueOf().toString()) - Date.parse(b.createdAt.valueOf().toString())\n        })\n        console.log(this.reservas);\n      }\n    )\n    this.authService.getDependencias().subscribe(\n      res => {\n        \n        for (let i of Object.values(res)) {\n          this.dependencias.push(i);\n        }\n        console.log(this.dependencias);\n        \n      },\n      err => console.log(err)\n    );\n  }\n\n  resmoda(id:string){\n    this.reseserver.UpdateStateA(id)\n    .subscribe(\n      res=>{\n      this.reservas=res\n      this.reservas.sort((a,b)=>{\n        return Date.parse(a.createdAt.valueOf().toString()) - Date.parse(b.createdAt.valueOf().toString())\n      })\n      console.log(this.reservas);\n    })\n  }\n  resmods(id:string){\n    this.reseserver.UpdateStateS(id)\n    .subscribe(\n      res=>{\n      this.reservas=res\n      this.reservas.sort((a,b)=>{\n        return Date.parse(a.createdAt.valueOf().toString()) - Date.parse(b.createdAt.valueOf().toString())\n      })\n      console.log(this.reservas);\n    })\n  }\n  resmodr(id:string){\n    this.reseserver.UpdateStateR(id)\n    .subscribe(\n      res=>{\n      this.reservas=res\n      this.reservas.sort((a,b)=>{\n        return Date.parse(a.createdAt.valueOf().toString()) - Date.parse(b.createdAt.valueOf().toString())\n      })\n      console.log(this.reservas);\n    })\n  }\n\n  async Down(id:string){\n    await (await this.reseserver.Download(id)).subscribe()\n  }\n\n  onFacultad($e:Event){\n\n  }\n}\n"]},"metadata":{},"sourceType":"module"}